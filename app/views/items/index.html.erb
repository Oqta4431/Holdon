<div class="p-4 space-y-4">
  <!-- ステータス切り替えタブ -->
  <div class="tabs tabs-box">
    <%= link_to "見送った",
      items_path(status: "skipped"),
      class: "tab flex-1 text-center bg-secondary text-secondary-content #{'tab-active !bg-primary !text-primary-content' if @status == 'skipped'}" %>

    <%= link_to "検討中",
      items_path(status: "considering"),
      class: "tab flex-1 text-center bg-secondary text-secondary-content #{'tab-active !bg-primary !text-primary-content' if @status == 'considering'}" %>

    <%= link_to "購入した",
      items_path(status: "purchased"),
      class: "tab flex-1 text-center bg-secondary text-secondary-content #{'tab-active !bg-primary !text-primary-content' if @status == 'purchased'}" %>
  </div>

  <!-- 商品一覧 -->
  <ul class="space-y-3">
    <% @items.each do |item| %>
      <li class="list-none">
        <%= link_to item_path(item), class: "block" do %>
          <div class="card bg-base-100 shadow-sm border">
            <div class="card-body p-3">
              <div class="flex gap-3 items-center">
                <!-- 仮画像 -->
                <div class="w-20 h-20 bg-gray-200 rounded-box flex items-center justify-center shrink-0">
                  <% if item.item_image.attached? %>
                    <%= image_tag item.item_image.variant(:thumb), class: "w-full h-full object-cover rounded-box" %>
                  <% else %>
                    <span class="text-sm text-base-content/60">画像</span>
                  <% end %>
                </div>

                <div class="min-w-0">
                  <div class="font-bold text-base leading-tight line-clamp-2">
                    <%= item.name %>
                  </div>

                  <div class="mt-1 text-sm font-semibold">
                    ¥ <%= number_with_delimiter(item.price) %>
                  </div>
                </div>

              </div>
            </div>
          </div>
        <% end %>
      </li>
    <% end %>
  </ul>
</div>
